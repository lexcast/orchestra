(this.webpackJsonporchestra=this.webpackJsonporchestra||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"violin":[2,2],"viola":[2,3],"cello":[3,3],"doublebass":[4,4],"piccolo":[2,2],"flute":[2,2],"oboe":[2,2],"clarinet":[3,2],"bassoon":[3,2],"contrabassoon":[3,3],"horn":[2,2],"trumpet":[2,3],"trombone":[3,3],"timpani":[3,3],"tuba":[3,3],"harp":[3,3],"piano":[3,3],"glockenspiel":[3,3],"cymbals":[2,2],"drum":[2,2],"triangle":[2,2],"bassdrum":[3,3],"director":[3,3]}')},20:function(e){e.exports=JSON.parse('{"orchestra":{"director":{"positions":[[28,24]]},"violin_1":{"instrument":"violin","positions":[[29,19],[26,19],[29,16],[26,16],[29,13],[26,13],[23,13],[29,10],[26,10],[23,10],[29,7],[26,7],[23,7],[20,7],[29,4],[26,4],[23,4],[20,4]]},"violin_2":{"instrument":"violin","positions":[[23,23],[23,20],[20,20],[23,17],[20,17],[17,17],[20,14],[17,14],[20,11],[17,11]]},"viola":{"positions":[[23,26],[26,29],[23,29],[20,29],[20,32],[23,32],[20,26],[20,23]]},"cello":{"positions":[[28,29],[28,33],[25,33],[28,36],[25,36],[22,36],[19,36],[28,39],[25,39],[22,39],[19,39]]},"doublebass":{"positions":[[27,43],[23,43],[19,43],[15,43],[27,47],[23,47],[19,47],[15,47],[27,43]]},"piccolo":{"positions":[[17,21]]},"flute":{"positions":[[17,25],[17,28]]},"oboe":{"positions":[[17,31],[17,34]]},"clarinet":{"positions":[[14,20],[14,23]]},"bassoon":{"positions":[[14,27],[14,30]]},"contrabassoon":{"positions":[[14,34]]},"horn":{"positions":[[11,19],[11,23]]},"trumpet":{"positions":[[11,26],[11,30]]},"trombone":{"positions":[[10,34],[10,38],[10,42]]},"tuba":{"positions":[[10,46]]},"harp":{"positions":[[12,8]]},"piano":{"positions":[[12,4]]},"glockenspiel":{"positions":[[7,14]]},"triangle":{"positions":[[7,18]]},"cymbals":{"positions":[[7,21]]},"drum":{"positions":[[7,24]]},"bassdrum":{"positions":[[6,27]]},"timpani":{"positions":[[6,31],[6,34],[6,37],[6,40]]},"piano_solo":{"instrument":"piano","positions":[[33,24]]}}}')},23:function(e,t,a){e.exports=a(47)},28:function(e,t,a){},3:function(e){e.exports=JSON.parse('{"beethoven_symphony_1_1":{"title":"Symphony No.1 - 1st Movement","number":"Opus 21","key":"C major","composer":"beethoven","year":"1800","city":"Vienna","delay":2000,"bpm":120,"ensemble":"orchestra","midi_author":"Jean-Fran\xe7ois Lucarelli","midi_url":"http://www.espace-midi.com/","tracks":{"flute":1,"oboe":2,"clarinet":3,"bassoon":4,"horn|0":5,"horn|1":6,"trumpet":7,"timpani|0":"G","timpani|1":"C","violin_1":9,"violin_2":10,"viola":11,"cello":12,"doublebass":13,"director":"d"},"trackNotes":{"8":{"G":[43],"C":[48]}}},"beethoven_symphony_1_2":{"title":"Symphony No.1 - 2nd Movement","number":"Opus 21","key":"C major","composer":"beethoven","year":"1800","city":"Vienna","delay":600,"bpm":120,"ensemble":"orchestra","midi_author":"Jean-Fran\xe7ois Lucarelli","midi_url":"http://www.espace-midi.com/","tracks":{"flute":1,"oboe":2,"clarinet":3,"bassoon":4,"horn|0":5,"horn|1":6,"trumpet":7,"timpani|0":"G","timpani|1":"C","violin_1":9,"violin_2":10,"viola":11,"cello":12,"doublebass":13,"director":"d"},"trackNotes":{"8":{"G":[43],"C":[48]}}},"beethoven_symphony_1_3":{"title":"Symphony No.1 - 3th Movement","number":"Opus 21","key":"C major","composer":"beethoven","year":"1800","city":"Vienna","delay":1400,"bpm":240,"ensemble":"orchestra","midi_author":"Jean-Fran\xe7ois Lucarelli","midi_url":"http://www.espace-midi.com/","tracks":{"flute":1,"oboe":2,"clarinet":3,"bassoon":4,"horn|0":5,"horn|1":6,"trumpet":7,"timpani|0":"G","timpani|1":"C","violin_1":9,"violin_2":10,"viola":11,"cello":12,"doublebass":13,"director":"d"},"trackNotes":{"8":{"G":[43],"C":[48]}}},"beethoven_symphony_1_4":{"title":"Symphony No.1 - 4th Movement","number":"Opus 21","key":"C major","composer":"beethoven","year":"1800","city":"Vienna","delay":700,"bpm":120,"ensemble":"orchestra","midi_author":"Jean-Fran\xe7ois Lucarelli","midi_url":"http://www.espace-midi.com/","tracks":{"flute":1,"oboe":2,"clarinet":3,"bassoon":4,"horn|0":5,"horn|1":6,"trumpet":7,"timpani|0":"G","timpani|1":"C","violin_1":9,"violin_2":10,"viola":11,"cello":12,"doublebass":13,"director":"d"},"trackNotes":{"8":{"G":[43],"C":[48]}}},"beethoven_symphony_2_1":{"title":"Symphony No.2 - 1st Movement","number":"Opus 36","key":"D major","composer":"beethoven","year":"1803","city":"Vienna","delay":2150,"bpm":120,"ensemble":"orchestra","midi_author":"Jean-Fran\xe7ois Lucarelli","midi_url":"http://www.espace-midi.com/","tracks":{"flute":1,"oboe":2,"clarinet":3,"bassoon":4,"horn|0":5,"horn|1":6,"trumpet":7,"timpani|0":"A","timpani|1":"D","violin_1":9,"violin_2":10,"viola":11,"cello":12,"doublebass":13,"director":"d"},"trackNotes":{"8":{"A":[45],"D":[50]}}},"beethoven_symphony_5_1":{"title":"Symphony No.5 - 1st Movement","number":"Opus 67","key":"C minor","composer":"beethoven","year":"1808","city":"Vienna","delay":1000,"bpm":154,"ensemble":"orchestra","midi_author":"Dario Galimberti","midi_url":"https://www.classicalarchives.com/contributor/589.html","tracks":{"flute":1,"oboe":2,"clarinet":3,"bassoon":4,"horn|0,1":5,"trumpet":6,"timpani|0":7,"violin_1":8,"violin_2":9,"viola":10,"cello":11,"doublebass":12,"director":"d","contrabassoon":"ex","piccolo":"ex"}},"chopin_grande_polonaise_brillante":{"title":"Andante Spianato et Grande Polonaise Brillante","number":"Opus 22","key":"E-flat major","composer":"chopin","year":"1836","city":"Leipzig","delay":0,"bpm":86,"ensemble":"orchestra","midi_author":"Warren Pepperdine","midi_url":"https://www.classicalarchives.com/contributor/1368.html","tracks":{"piano_solo":"piano","violin_1":"violin1","clarinet|0":8,"clarinet|1":9,"violin_2":"violin2","viola":12,"cello":14,"doublebass":24,"horn|0":15,"horn|1":16,"bassoon|0":17,"bassoon|1":18,"timpani|0":19,"timpani|1":20,"trombone|0":21,"trombone|1":31,"flute|0":22,"flute|1":23,"oboe":7,"director":"d"},"groupTracks":{"piano":[1,2,3,4],"violin1":[5,6],"violin2":[10,11]}},"williams_starwars_imperial_march":{"title":"The Imperial March","number":"Star Wars V","key":"G minor","composer":"williams","year":"1980","city":"Boston","delay":2300,"bpm":105,"ensemble":"orchestra","tracks":{"piccolo":1,"oboe":2,"clarinet":3,"bassoon":4,"horn|0,1":5,"trumpet":6,"trombone":7,"tuba":8,"triangle":"triangle","cymbals":"cymbals","drum":"drum","bassdrum":"bassdrum","glockenspiel":10,"harp":11,"piano":12,"violin_1":13,"violin_2":14,"viola":15,"cello":16,"doublebass":16,"director":"d"},"midi_author":"Mark Headrick","midi_url":"https://www.markheadrick.com/midi.php","trackNotes":{"9":{"triangle":[81],"cymbals":[42,44,46,49,51,52,57,59],"drum":[37,38,43,47,48,50],"bassdrum":[36,45]}}}}')},47:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),i=a.n(r),c=(a(28),a(7)),s=a(4),l=a(1),m=a(5),u=a.n(m),p=a(8),h=a(3),b=function(e){var t=e.player,a=e.midiPlayer,n=e.audio,r=e.setPlayer,i=e.setPlaying,c=e.delay;return o.a.createElement("div",{className:"flex my-4 items-center justify-center text-lg"},"PLAYING"!==t&&o.a.createElement("button",{title:"Play",className:"focus:outline-none appearance-none px-2 m-1 h-8 hover:text-black flex items-center justify-center text-gray-600",onClick:function(){"STOPED"===t?(a.current.play(),setTimeout((function(){n.current.play()}),c)):(a.current.play(),n.current.play()),r("PLAYING")}},"Play"),"PLAYING"===t&&o.a.createElement("button",{className:"focus:outline-none appearance-none px-2 m-1 h-8 hover:text-black flex items-center justify-center text-gray-600",onClick:function(){a.current.pause(),n.current.pause(),r("PAUSED")}},"Pause"),"STOPED"!==t&&o.a.createElement("button",{className:"focus:outline-none appearance-none px-2 m-1 h-8 hover:text-black flex items-center justify-center text-gray-600",onClick:function(){a.current.stop(),n.current.pause(),n.current.currentTime=0,i({}),r("STOPED")}},"Stop"))},d=a(19),f=a(20),y=function(e){var t=e.song,a=e.playing,n=f[t.ensemble];return o.a.createElement("div",{className:"md:p-10 lg:p-20 lg:-mt-10",style:{display:"grid",gridTemplateColumns:"repeat(50, 1fr)",gridTemplateRows:"repeat(35, 1fr)",width:"80vw",height:"56vw"}},Object.entries(t.tracks).map((function(e){var t=Object(l.a)(e,2),r=t[0],i=t[1],c=r.split("|"),s=Object(l.a)(c,2),m=s[0],u=s[1],p=n[m],h=p.instrument||m,b=d[h],f=!!u&&u.split(",");return p.positions.map((function(e,t){return f&&!f.includes(t.toString())?null:o.a.createElement("div",{key:m+t,className:"flex items-center justify-center",style:{gridArea:"".concat(e[0]," / ").concat(e[1]," / ").concat(e[0]+b[0]," / ").concat(e[1]+b[1])}},o.a.createElement("img",{style:{transition:"transform .05s ease",transform:a[i]?"scale(1.2)":"scale(1)"},alt:h,className:"max-w-full max-h-full",src:(n=h,"".concat("/orchestra","/images/instruments/").concat(n,".png"))}));var n}))})))},v=a(6),w=function(e){var t,a=e.song,n=v[a.composer];return o.a.createElement("div",{className:"text-center mb-4 relative md:absolute top-0 right-0 md:m-4 opacity-50 hover:opacity-100 w-full md:w-auto"},o.a.createElement("h1",{className:"text-lg font-bold"},a.title),o.a.createElement("h2",{className:"text-base"},a.key," - ",a.number),o.a.createElement("p",{className:"text-sm"},a.city,", ",a.year),o.a.createElement("div",{className:"w-10 h-10 m-auto flex items-center"},o.a.createElement("img",{alt:n.name,src:(t=a.composer,"".concat("/orchestra","/images/composers/").concat(t,".jpg")),className:"max-h-full max-w-full"})),o.a.createElement("h2",{className:"text-base font-semibold"},n.name),o.a.createElement("p",{className:"text-sm"},n.city,", ",n.year),o.a.createElement("p",{className:"text-sm"},"by"," ",o.a.createElement("a",{className:"text-purple-600 font-bold hover:text-purple-700",href:a.midi_url,target:"_blank",rel:"noopener noreferrer"},a.midi_author)))},E=function(e){var t=e.song,a=e.onClick;return o.a.createElement("div",{className:"mb-6 text-left relative md:absolute max-w-xl top-0 left-0 md:m-4 max-w-xl md:w-auto"},Object.entries(h).map((function(e){var n=Object(l.a)(e,2),r=n[0],i=n[1],c=i.title,s=i.composer;return o.a.createElement("div",{key:r,onClick:function(){return a(r)},className:"cursor-pointer py-1"+(t===r?"":" opacity-50 hover:opacity-100")},o.a.createElement("h1",{className:"font-semibold text-base"},c),o.a.createElement("h2",{className:"text-sm"},v[s].name))})))},k=function(e){var t=e.song,a=e.audio,r=Object(n.useState)(0),i=Object(l.a)(r,2),c=i[0],s=i[1];return Object(n.useEffect)((function(){var e=a.current,t=function(){s(e.currentTime/e.duration*100)};return e&&e.addEventListener("timeupdate",t),function(){e&&e.removeEventListener("timeupdate",t)}}),[a,t]),o.a.createElement("div",{className:"w-64 h-px bg-gray-400"},o.a.createElement("div",{className:"h-px bg-black",style:{width:c+"%"}}))},g=function(){return o.a.createElement("div",{className:"border-t border-gray-300 p-4 w-full text-center m-1 font-sans text-xs text-gray-600 font-normal"},o.a.createElement("div",null,"Icons made by ",o.a.createElement("a",{href:"https://www.flaticon.com/authors/smashicons",title:"Smashicons"},"Smashicons")," from ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")),o.a.createElement("div",null,"Icons made by ",o.a.createElement("a",{href:"https://www.flaticon.com/authors/nikita-golubev",title:"Nikita Golubev"},"Nikita Golubev")," from ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")),o.a.createElement("div",null,"Icons made by ",o.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," from ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")),o.a.createElement("div",null,"Icons made by ",o.a.createElement("a",{href:"https://www.flaticon.com/authors/pongsakornred",title:"pongsakornRed"},"pongsakornRed")," from ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")),o.a.createElement("div",null,"Icons made by ",o.a.createElement("a",{href:"https://www.flaticon.com/authors/mynamepong",title:"mynamepong"},"mynamepong")," from ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")),o.a.createElement("div",null,"Icons made by ",o.a.createElement("a",{href:"https://www.flaticon.com/authors/photo3idea-studio",title:"photo3idea_studio"},"photo3idea_studio")," from ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")),o.a.createElement("div",null,"Icons made by ",o.a.createElement("a",{href:"https://www.flaticon.com/authors/good-ware",title:"Good Ware"},"Good Ware")," from ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")),o.a.createElement("div",null,"Icons made by ",o.a.createElement("a",{href:"https://www.flaticon.com/authors/vitaly-gorbachev",title:"Vitaly Gorbachev"},"Vitaly Gorbachev")," from ",o.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")))},_=a(21),x=a.n(_),N=a(22),O=a.n(N),j=function(e){return"".concat("/orchestra","/midi/").concat(e,".mid")},S=function(){var e=Object(p.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(t,{responseType:"arraybuffer"});case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=Object.keys(h),C=G[G.length*Math.random()<<0],P=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("LOADING"),m=Object(l.a)(i,2),d=m[0],f=m[1],v=Object(n.useState)(C),_=Object(l.a)(v,2),x=_[0],N=_[1],G=Object(n.useRef)(),P=Object(n.useRef)(),L=Object(n.useCallback)((function(){f("STOPED")}),[]),T=Object(n.useCallback)(function(){var e=Object(p.a)(u.a.mark((function e(t,a){var n,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.current&&P.current.stop(),G.current&&(G.current.removeEventListener("ended",L),G.current.pause(),G.current.currentTime=0),f("LOADING"),r({}),N(t),G.current=new Audio((m=t,"".concat("/orchestra","/mp3/").concat(m,".mp3"))),G.current.addEventListener("ended",L),n={},(o=h[t].trackNotes)&&Object.entries(o).forEach((function(e){var t=Object(l.a)(e,2),a=t[0],o=t[1];Object.entries(o).forEach((function(e){var t=Object(l.a)(e,2),o=t[0];t[1].forEach((function(e){return n["".concat(a,".").concat(e)]=o}))}))})),(i=h[t].groupTracks)&&Object.entries(i).forEach((function(e){var t=Object(l.a)(e,2),a=t[0];t[1].forEach((function(e){return n[e]=a}))})),P.current=new O.a.Player((function(e){var t,a;if("Set Tempo"===e.name)return P.current.pause(),P.current.setTempo(e.data),void P.current.play();if((!e.name||"Note on"===e.name)&&e.velocity>0)a=!0;else{if("Note off"!==e.name&&(e.name&&"Note on"!==e.name||0!==e.velocity))return;a=!1}var o=(t={},Object(s.a)(t,e.track-1,a),Object(s.a)(t,"d",a),t),i=n["".concat(e.track-1,".").concat(e.noteNumber)];i&&(o[i]=a);var l=n[e.track-1];l&&(o[l]=a),r((function(e){return Object(c.a)(Object(c.a)({},e),o)}))})),e.t0=P.current,e.next=16,S(j(t));case 16:e.t1=e.sent,e.t0.loadArrayBuffer.call(e.t0,e.t1),P.current.setTempo(h[t].bpm),a?(P.current.play(),setTimeout((function(){G.current.play()}),h[t].delay),f("PLAYING")):f("STOPED");case 20:case"end":return e.stop()}var m}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[L]);return Object(n.useEffect)((function(){return T(C,!1),function(){G.current&&(G.current.removeEventListener("ended",L),G.current.pause()),P.current&&P.current.stop()}}),[T,L]),o.a.createElement("div",{className:"bg-yellow-100 font-cursive text-center min-h-screen w-screen flex items-center justify-center flex-col"},o.a.createElement(y,{playing:a,song:h[x]}),"LOADING"!==d&&o.a.createElement(o.a.Fragment,null,o.a.createElement(k,{audio:G,song:x}),o.a.createElement(b,{player:d,midiPlayer:P,setPlayer:f,setPlaying:r,audio:G,delay:h[x].delay})),o.a.createElement(w,{song:h[x]}),o.a.createElement(E,{song:x,onClick:function(e){T(e,!0)}}),o.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e){e.exports=JSON.parse('{"beethoven":{"name":"Ludwig van Beethoven","city":"Bonn","year":"1770"},"chopin":{"name":"Fr\xe9d\xe9ric Chopin","city":"\u017belazowa Wola","year":"1810"},"williams":{"name":"John Williams","city":"Floral Park","year":"1932"}}')}},[[23,1,2]]]);
//# sourceMappingURL=main.92f234b0.chunk.js.map